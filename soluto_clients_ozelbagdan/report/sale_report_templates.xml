<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="external_layout_ozelbagdan">
        <t t-if="not o" t-set="o" t-value="doc"/>

        <t t-if="not company">
            <!-- Multicompany -->
            <t t-if="company_id">
                <t t-set="company" t-value="company_id"/>
            </t>
            <t t-elif="o and 'company_id' in o">
                <t t-set="company" t-value="o.company_id.sudo()"/>
            </t>
            <t t-else="else">
                <t t-set="company" t-value="res_company"/>
            </t>
        </t>

        <t t-call="soluto_clients_ozelbagdan.external_layout_ozelbagdan_standard"><t t-raw="0"/></t>

    </template>

    <template id="external_layout_ozelbagdan_standard">
        <div t-attf-class="header o_company_#{company.id}_layout" t-att-style="report_header_style">

            <div class="row px-5" style="min-height: 200px;">
                <div class="col-3 mb4 text-left">
                    <img t-if="company.logo" t-att-src="image_data_uri(company.logo)" style="max-height: 90px;"
                         alt="Logo"/>
                </div>
                <div class="col-1"/>
                <div class="col-3"/>
                <div class="col-5 m-0 p-0 text-left" style="font-size: 14px;">
                    <p class="m-0 mb-2 p-0" style="font-size: 16px;color: #333091">
                        <t t-esc="doc.company_id.partner_id.name"/>
                    </p>
                    <t t-if="doc.company_id.partner_id.street">
                        <t t-esc="doc.company_id.partner_id.street"/>
                    </t>
                    <t t-else="">
                        <span style="height: 25px;margin: 0;padding: 0;"/>
                    </t>
                    <br/>
<!--                    <t t-if="doc.company_id.partner_id.street2_id or doc.company_id.partner_id.city_id or doc.company_id.partner_id.state_id">-->
<!--                        <t t-if="doc.company_id.partner_id.street2_id">-->
<!--                            <t t-esc="doc.company_id.partner_id.street2_id.name"/>-->
<!--                        </t>-->
<!--                        <t t-if="doc.company_id.partner_id.street2_id and doc.company_id.partner_id.city_id">-->
<!--                            /-->
<!--                        </t>-->
<!--                        <t t-if="doc.company_id.partner_id.city_id">-->
<!--                            <t t-esc="doc.company_id.partner_id.city_id.name"/>-->
<!--                        </t>-->
<!--                        <t t-if="doc.company_id.partner_id.city_id and doc.company_id.partner_id.state_id">-->
<!--                            /-->
<!--                        </t>-->
<!--                        <t t-if="doc.company_id.partner_id.state_id">-->
<!--                            <t t-esc="doc.company_id.partner_id.state_id.name"/>-->
<!--                        </t>-->
<!--                    </t>-->
<!--                    <t t-else="">-->
                        <span style="height: 25px;margin: 0;padding: 0;"/>
<!--                    </t>-->
                    <br/>
                    Tax Office:
<!--                    <t t-esc="doc.company_id.partner_id.tax_office_id.name"/>-->
                    <br/>
                    VKN: <t t-esc="doc.company_id.partner_id.vat"/><br/>


                    <p class="m-0 mb-2 p-0 mt-4" style="font-size: 16px;color: #333091">
                        <t t-esc="doc.partner_id.name"/>
                    </p>
                    <t t-if="doc.partner_id">
                        <t t-esc="doc.partner_id.name"/><br/>
                        <t t-esc="doc.partner_id.street"/><br/>
<!--                        <t t-if="doc.partner_id.street2_id or doc.partner_id.city_id or doc.partner_id.state_id">-->
<!--                            <t t-if="doc.partner_id.street2_id">-->
<!--                                <t t-esc="doc.partner_id.street2_id.name"/>-->
<!--                            </t>-->
<!--                            <t t-if="doc.partner_id.street2_id and doc.partner_id.city_id">-->
<!--                                /-->
<!--                            </t>-->
<!--                            <t t-if="doc.partner_id.city_id">-->
<!--                                <t t-esc="doc.partner_id.city_id.name"/>-->
<!--                            </t>-->
<!--                            <t t-if="doc.partner_id.city_id and doc.partner_id.state_id">-->
<!--                                /-->
<!--                            </t>-->
<!--                            <t t-if="doc.partner_id.state_id">-->
<!--                                <t t-esc="doc.partner_id.state_id.name"/>-->
<!--                            </t>-->
<!--                        </t>-->
<!--                        <t t-else="">-->
<!--                            <span style="height: 25px;margin: 0;padding: 0;"/>-->
<!--                        </t>-->
                        <br/>
                        Tax Office:
<!--                        <t t-esc="doc.partner_id.tax_office_id.name"/>-->
                        <br/>
                        VKN: <t t-esc="doc.partner_id.vat"/>
                    </t>

                </div>
            </div>
            <h2 style="color: #333091;">
                <t t-if="doc.state in ['draft','sent']">
                    Quaotion #
                </t>
                <t t-if="doc.state not in ['draft','sent']">
                    Order #
                </t>
                <t t-esc="doc.name"/>
            </h2>
            <div class="row pb-4"
                 style="font-size: 16px;border-bottom: 3px solid #333091;padding-right: 0 !important;padding-left: 0 !important;">
                <div class="col-3" style="padding-left: 0 !important;padding-right: 0 !important;">
                    <p class="m-0 p-0 mb-1">
                        <t t-if="doc.state in ['draft','sent']">
                            Quaotion
                        </t>
                        <t t-if="doc.state not in ['draft','sent']">
                            Order
                        </t>
                        Date
                    </p>
                    <p class="m-0 p-0">
                        <t t-if="doc.date_order">
                            <t t-esc="context_timestamp(doc.date_order).strftime('%d-%m-%Y %H:%M:%S')"/>
                        </t>
                    </p>
                </div>
                <div class="col-3">
                    <p class="m-0 p-0 mb-1">
                        Validity Date
                    </p>
                    <p class="m-0 p-0">
                        <t t-if="doc.validity_date">
                            <t t-esc="doc.validity_date.strftime('%d-%m-%Y')"/>
                        </t>
                        <!--                        simdilik validity date koy-->
                    </p>
                </div>
                <div class="col-3">
                    <p class="m-0 p-0 mb-1" style="position: relative;left: 78px;">
                        <t t-if="doc.state in ['draft','sent']">
                            Quaotion
                        </t>
                        <t t-if="doc.state not in ['draft','sent']">
                            Order
                        </t>
                        Official
                    </p>
                    <p class="m-0 p-0" style="position: relative;left: 78px;">
                        <t t-esc="doc.user_id.name"/>
                    </p>
                </div>
                <div class="col-3">
                    <p class="m-0 p-0 mb-1" style="position: relative;left: 78px;">
                        Term
                    </p>
                    <p class="m-0 p-0" style="position: relative;left: 78px;">
                        <t t-esc="doc.payment_term_id.name"/>
                    </p>
                </div>
            </div>
        </div>

        <div t-attf-class="article o_report_layout_standard o_company_#{company.id}_layout"
             t-att-data-oe-model="o and o._name" t-att-data-oe-id="o and o.id"
             t-att-data-oe-lang="o and o.env.context.get('lang')">

            <t t-raw="0"/>
        </div>
        <div t-attf-class="footer o_standard_footer o_company_#{company.id}_layout">

            <h5 class="pb-2 d-inline-block" style="border-bottom: 3px solid #333091;">Description</h5>
            <p>
                <t t-if="doc.note">
                    <t t-set="string_brake" t-value="doc.note.split('\n')"/>
                    <t t-foreach="string_brake" t-as="broken_line">
                        <t t-esc="broken_line"/>
                        <br/>
                    </t>
                </t>
            </p>
        </div>
    </template>

    <template id="rsozb_1_document">
        <t t-call="soluto_clients_ozelbagdan.external_layout_ozelbagdan">
            <style>
                th {
                    text-align: left;
                }
                * {
                    font-family: 'Roboto', sans-serif;
                }
            </style>
            <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>
            <t t-set="display_discount" t-value="any([l.discount for l in doc.order_line])"/>
            <div class="pt-2"/>
            <table class="table table-sm o_main_table" style="">
                <thead style="border-top: none;">
                    <tr style="font-size: 16px;">
                        <th name="th_sequence" class="py-3" style="border-top: none;color: black;">No</th>
                        <th name="th_default_code" class="py-3" style="border-top: none;color: black;">Code</th>
                        <th name="th_product_name" class="py-3" style="border-top: none;color: black;">Product Name</th>
                        <th name="th_product_name" class="py-3" style="border-top: none;color: black;">Unit</th>
                        <th name="th_quantity" class="py-3" style="border-top: none;color: black;">Net Price
                        </th>
                        <th name="th_quantity" class="text-center py-3" style="border-top: none;color: black;">Description
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody" style="font-size: 14px;">

                    <t t-set="current_subtotal" t-value="0"/>
                    <t t-set="sequence" t-value="1"/>
                    <t t-foreach="doc.order_line" t-as="line">

                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal"
                           t-if="doc.tax_calculation_rounding_method == 'round_globally'"/>
                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_total"
                           t-if="doc.tax_calculation_rounding_method != 'round_globally'"/>

                        <tr t-att-class="'bg-200 o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">
                            <t t-if="not line.display_type">
                                <td name="td_sequence" style=""><span t-esc="sequence"/></td>
                                <td name="td_default_code" style=""><span
                                        t-field="line.product_id.default_code"/></td>
                                <td name="td_product_name"><span
                                        t-field="line.product_id.name"/></td>
                                <td name="td_product_name"><span
                                        t-field="line.product_id.uom_id.name"/></td>
                                <td name="td_net_sale_price" style="">
                                    <span t-esc="line.net_sale_price" t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                                </td>
                                <td name="td_product_name" class="text-center"><span
                                        t-field="line.name"/></td>
                            </t>
                            <t t-if="line.display_type == 'line_section'">
                                <td name="td_section_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                                <t t-set="current_section" t-value="line"/>
                                <t t-set="current_subtotal" t-value="0"/>
                            </t>
                            <t t-if="line.display_type == 'line_note'">
                                <td name="td_note_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                            </t>
                        </tr>

                        <t t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')">
                            <tr class="is-subtotal text-right" style="text-align:right;">
                                <td name="td_section_subtotal" colspan="99">
                                    <strong class="mr16">Subtotal</strong>
                                    <span t-esc="current_subtotal"
                                          t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"/>
                                </td>
                            </tr>
                        </t>
                        <t t-set="sequence" t-value="sequence+1"/>
                    </t>
                </tbody>
            </table>
        </t>
    </template>


    <template id="rsozb_1">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="soluto_clients_ozelbagdan.rsozb_1_document" t-lang="doc.partner_id.lang"/>
            </t>
        </t>
    </template>

    <template id="rsozb_3_document">
        <t t-call="soluto_clients_ozelbagdan.external_layout_ozelbagdan">
            <style>
                th {
                    text-align: left;
                }
                * {
                    font-family: 'Roboto', sans-serif;
                }
            </style>
            <t t-set="doc" t-value="doc.with_context(lang=doc.partner_id.lang)"/>
            <t t-set="display_discount" t-value="any([l.discount for l in doc.order_line])"/>
            <div class="pt-2"/>
            <table class="table table-sm o_main_table" style="font-size: 16px;">
                <colgroup>
                    <col width="5%"/>
                    <col width="5%"/>
                    <col width="50%"/>
                    <col width="8%"/>
                    <col width="10%"/>
                    <col width="8%"/>
                    <col width="12%"/>
                    <col width="12%"/>
                </colgroup>
                <thead style="border-top: none;">
                    <tr>
                        <th name="th_sequence" class="py-3"
                            style="border-top:none;color: black;">No</th>
                        <th name="th_default_code" class="py-3"
                            style="border-top:none;color: black;">Code</th>
                        <th name="th_product_name" class="py-3"
                            style="border-top:none;color: black;">Product Name</th>
                        <th name="th_quantity" class="text-right py-3"
                            style="border-top:none;text-align:right;color: black;">Quantity</th>
                        <th name="th_quantity" class="text-right py-3"
                            style="border-top:none;text-align:right;color: black;">List Price</th> <!-- brut fiyat -->

                        <th name="th_quantity" class="text-right py-3"
                            style="border-top:none;text-align:right;color: black;">DSC(%)
                        </th>
                        <th name="th_quantity" class="text-right py-3"
                            style="border-top:none;text-align:right;color: black;">Net Sale Price
                        </th>

                        <th name="th_subtotal" class="text-right py-3"
                            style="width: 10%;border-top:none;text-align:right;color: black;">
                            <t t-if="doc.tax_calculation_rounding_method == 'round_globally'">Amount</t>
                            <t t-if="doc.tax_calculation_rounding_method != 'round_globally'">Total Price</t>
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody" style="font-size: 14px;">

                    <t t-set="current_subtotal" t-value="0"/>
                    <t t-set="sequence" t-value="1"/>
                    <t t-set="total_net_sale_price" t-value="0"/>
                    <t t-foreach="doc.order_line" t-as="line">

                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal"
                            t-if="doc.tax_calculation_rounding_method == 'round_globally'"/>
                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_total"
                            t-if="doc.tax_calculation_rounding_method != 'round_globally'"/>
                        <tr t-att-class="'bg-200 o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">
                            <t t-if="not line.display_type">
                                <td name="td_sequence" style=""><span t-esc="sequence"/></td>
                                <td name="td_default_code" style=""><span
                                        t-field="line.product_id.default_code"/></td>
                                <td name="td_product_name"><span
                                        t-field="line.product_id.name"/></td>
                                <td name="td_quantity" class="text-right" style="text-align:right;">
                                    <span t-field="line.product_uom_qty"
                                          t-options='{"widget": "float", "precision": 0}'/>
                                    <span t-field="line.product_uom" groups="uom.group_uom"/>
                                </td>
                                <td name="td_price_unit" class="text-right" style="text-align:right;">
                                    <span t-field="line.product_id.list_price"
                                          t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                                </td>

                                <td name="td_discount" class="text-right" style="text-align:right;">
                                    <span t-field="line.discount"
                                          t-options='{"widget": "float", "precision": 2}'/>
                                </td>

                                <td name="td_net_sale_price" class="text-right" style="text-align:right;">
                                    <span t-esc="line.net_sale_price" t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                                    <t t-set="total_net_sale_price"
                                       t-value="total_net_sale_price + (line.net_sale_price * line.product_uom_qty)"/>
                                </td>
                                <td name="td_subtotal" class="text-right o_price_total" style="text-align:right;">
                                    <span t-esc="line.price_subtotal"
                                            t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                           t-if="doc.tax_calculation_rounding_method == 'round_globally'"/>
                                    <span t-esc="line.price_total"
                                            t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                           t-if="doc.tax_calculation_rounding_method != 'round_globally'"/>
                                </td>
                            </t>
                            <t t-if="line.display_type == 'line_section'">
                                <td name="td_section_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                                <t t-set="current_section" t-value="line"/>
                                <t t-set="current_subtotal" t-value="0"/>
                            </t>
                            <t t-if="line.display_type == 'line_note'">
                                <td name="td_note_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                            </t>
                        </tr>

                        <t t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')">
                            <tr class="is-subtotal text-right" style="text-align:right;">
                                <td name="td_section_subtotal" colspan="99">
                                    <strong class="mr16">Subtotal</strong>
                                    <span t-esc="current_subtotal"
                                          t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"/>
                                </td>
                            </tr>
                        </t>
                        <t t-set="sequence" t-value="sequence+1"/>
                    </t>
                </tbody>
            </table>

            <div class="row" style="margin-top: 80px;">
                <div class="col-8"/>
                <div class="col-4">
                    <table class="table table-sm o_main_table" style="position: relative; ">
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;border-top: 2px solid black">Subtotal
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;border-top: 2px solid black;text-align:right;"
                            >
                                <span
                                    t-esc="doc.amount_untaxed + doc.compute_discount_amount()"
                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;">Discount Amount
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;text-align:right;"
                            >
                                <span
                                    t-esc="doc.compute_discount_amount()"
                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;">Net Total
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;text-align:right;"
                            >
                                <span t-esc="line.net_sale_price" t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                            </td>
                        </tr>
<!--                        <tr>-->
<!--                            <td name="td_total" class=""-->
<!--                                style="font-size: 14px;">Discount 2-->
<!--                            </td>-->
<!--                            <td name="td_total" class="text-right"-->
<!--                                style="font-size: 14px;text-align:right;"-->
<!--                            >-->
<!--                                <span-->
<!--                                    t-esc="doc.amount_discount2"-->
<!--                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"-->
<!--                                />-->
<!--                            </td>-->
<!--                        </tr>-->
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;">Total Tax
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;text-align:right;"
                            >
                                <span
                                    t-esc="doc.amount_tax"
                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;">Total
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;text-align:right;"
                            >
                                <span
                                    t-esc="doc.amount_total"
                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                />
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </t>
    </template>

    <template id="rsozb_3">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="soluto_clients_ozelbagdan.rsozb_3_document" t-lang="doc.partner_id.lang"/>
            </t>
        </t>
    </template>

    <template id="rsozb_4_document">
        <t t-call="soluto_clients_ozelbagdan.external_layout_ozelbagdan">
            <style>
                th {
                    text-align: left;
                }
                * {
                    font-family: 'Roboto', sans-serif;
                }
            </style>
            <t t-set="display_discount" t-value="any([l.discount for l in doc.order_line])"/>
            <div class="pt-2"/>
            <table class="table table-sm o_main_table" style=" ;">
                <colgroup>
                    <col width="5%"/>
                    <col width="5%"/>
                    <col width="60%"/>
                    <col width="10%"/>
                    <col width="10%"/>
                    <col width="10%"/>
                </colgroup>
                <thead style="font-size: 16px;border: none;">
                    <tr>
                        <th name="th_sequence" class="py-3" style="border-top: none;color: black;">No</th>
                        <th name="th_default_code" class="py-3" style="border-top: none;color: black;">Code</th>
                        <th name="th_product_name" class="py-3" style="border-top: none;color: black;">Product Name</th>
                        <th name="th_quantity" class="text-right py-3" style="border-top: none;text-align:right;color: black;">Quantity</th>
                        <th name="th_net_sale_price" class="text-right py-3" style="border-top: none;text-align:right;color: black;">Net Sale Price</th>
                        <th name="th_subtotal" class="text-right py-3" style="border-top: none;text-align:right;color: black;">
                            <t t-if="doc.tax_calculation_rounding_method == 'round_globally'">
                                Amount
                            </t>
                            <t t-if="doc.tax_calculation_rounding_method != 'round_globally'">
                                Total Price
                            </t>
                        </th>
                    </tr>
                </thead>
                <tbody class="sale_tbody" style="font-size: 14px;">

                    <t t-set="current_subtotal" t-value="0"/>
                    <t t-set="sequence" t-value="1"/>
                    <t t-set="total_net_sale_price" t-value="0"/>
                    <t t-foreach="doc.order_line" t-as="line">

                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal"
                           t-if="doc.tax_calculation_rounding_method == 'round_globally'"/>
                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_total"
                           t-if="doc.tax_calculation_rounding_method != 'round_globally'"/>

                        <tr t-att-class="'bg-200 o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">
                            <t t-if="not line.display_type">
                                <td name="td_sequence" style=""><span t-esc="sequence"/></td>
                                <td name="td_default_code" style=""><span
                                        t-field="line.product_id.default_code"/></td>
                                <td name="td_product_name"><span
                                        t-field="line.product_id.name"/></td>
                                <td name="td_quantity" class="text-right" style="text-align:right;">
                                    <span t-field="line.product_uom_qty"
                                          t-options='{"widget": "float", "precision": 0}'/>
                                    <span t-field="line.product_uom" groups="uom.group_uom"/>
                                </td>

                                <t t-set="total_net_sale_price"
                                   t-value="total_net_sale_price + (line.net_sale_price * line.product_uom_qty)"/>
                                <td name="td_net_sale_price" class="text-right" style="text-align:right;">
                                    <span t-esc="line.net_sale_price" t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                                </td>
                                <td name="td_subtotal" class="text-right o_price_total" style="text-align:right;">
                                    <span t-esc="line.price_subtotal"
                                        t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                          t-if="doc.tax_calculation_rounding_method == 'round_globally'"/>
                                    <span t-esc="line.price_total"
                                        t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                          t-if="doc.tax_calculation_rounding_method != 'round_globally'"/>
                                </td>
                            </t>
                            <t t-if="line.display_type == 'line_section'">
                                <td name="td_section_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                                <t t-set="current_section" t-value="line"/>
                                <t t-set="current_subtotal" t-value="0"/>
                            </t>
                            <t t-if="line.display_type == 'line_note'">
                                <td name="td_note_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                            </t>
                        </tr>

                        <t t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')">
                            <tr class="is-subtotal text-right" style="text-align:right;">
                                <td name="td_section_subtotal" colspan="99">
                                    <strong class="mr16">Subtotal</strong>
                                    <span t-esc="current_subtotal"
                                          t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"/>
                                </td>
                            </tr>
                        </t>
                        <t t-set="sequence" t-value="sequence+1"/>
                    </t>
                </tbody>
            </table>
            <div class="row" style="margin-top:80px;">
                <div class="col-8"/>
                <div class="col-4">
                    <table class="table table-sm o_main_table" style="position: relative; ">
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;border-top: 2px solid black;">Net Total
                            </td>
                            <td name="td_total" class="text-right"
                                style="text-align:right;font-size: 14px;border-top: 2px solid black;"
                            >
                                <span t-esc="line.net_sale_price" t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                            </td>
                        </tr>
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;">Total KDV
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;text-align:right;"
                            >
                                <span
                                    t-esc="doc.amount_tax"
                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                />
                            </td>
                        </tr>
                        <tr>
                            <td name="td_total" class=""
                                style="font-size: 14px;">Total
                            </td>
                            <td name="td_total" class="text-right"
                                style="font-size: 14px;text-align:right;"
                            >
                                <span
                                    t-esc="doc.amount_total"
                                    t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"
                                />
                            </td>
                        </tr>
                    </table>
                </div>
            </div>
        </t>
    </template>

    <template id="rsozb_4">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="soluto_clients_ozelbagdan.rsozb_4_document" t-lang="doc.partner_id.lang"/>
            </t>
        </t>
    </template>

    <template id="rsozb_5_document">
        <t t-call="soluto_clients_ozelbagdan.external_layout_ozelbagdan">
            <t t-set="display_discount" t-value="any([l.discount for l in doc.order_line])"/>
            <div class="pt-2"/>
            <table class="table table-sm o_main_table" style=" ;">
                <thead style="border-top: none;">
                    <tr>
                        <th name="th_sequence" class=""
                            style="font-size: 18px;color: black;">No</th>
                        <th name="th_default_code" class=""
                            style="font-size: 18px;color: black;">Code</th>
                        <th name="th_product_name" class=""
                            style="font-size: 18px;color: black;">Product Name</th>
                        <th name="th_quantity" class="text-right"
                            style="font-size: 18px;text-align:right;color: black;">Price
                            Unit</th>
                        <th name="th_quantity" class="text-right"
                            style="font-size: 18px;text-align:right;color: black;">Discount(%)
                        </th>
                        <th name="th_net_sale_price" class="text-right"
                            style="font-size: 18px;text-align:right;">Net Sale Price</th>
                    </tr>
                </thead>
                <tbody class="sale_tbody">

                    <t t-set="current_subtotal" t-value="0"/>
                    <t t-set="sequence" t-value="1"/>
                    <t t-foreach="doc.order_line" t-as="line">

                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_subtotal"
                           t-if="doc.tax_calculation_rounding_method == 'round_globally'"/>
                        <t t-set="current_subtotal" t-value="current_subtotal + line.price_total"
                           t-if="doc.tax_calculation_rounding_method != 'round_globally'"/>

                        <tr t-att-class="'bg-200 o_line_section' if line.display_type == 'line_section' else 'font-italic o_line_note' if line.display_type == 'line_note' else ''">
                            <t t-if="not line.display_type">
                                <td name="td_sequence" style=""><span t-esc="sequence"/></td>
                                <td name="td_default_code" style=""><span
                                        t-field="line.product_id.default_code"/></td>
                                <td name="td_product_name"><span
                                        t-field="line.product_id.name"/></td>
                                <td name="td_price_unit" class="text-right" style="text-align:right;">
                                    <span t-field="line.price_unit"
                                          t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                                </td>
                                <td name="td_discount" class="text-right" style="text-align:right;">
                                    <span t-field="line.discount"
                                          t-options='{"widget": "float", "precision": 2}'/>
                                </td>
                                <td name="td_net_sale_price" class="text-right" style="text-align:right;">
                                    <span t-esc="line.net_sale_price" t-options="{'widget': 'monetary', 'display_currency': doc.currency_id}"/>
                                </td>
                            </t>
                            <t t-if="line.display_type == 'line_section'">
                                <td name="td_section_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                                <t t-set="current_section" t-value="line"/>
                                <t t-set="current_subtotal" t-value="0"/>
                            </t>
                            <t t-if="line.display_type == 'line_note'">
                                <td name="td_note_line" colspan="99" style="">
                                    <span t-field="line.name"/>
                                </td>
                            </t>
                        </tr>

                        <t t-if="current_section and (line_last or doc.order_line[line_index+1].display_type == 'line_section')">
                            <tr class="is-subtotal text-right" style="text-align:right;">
                                <td name="td_section_subtotal" colspan="99">
                                    <strong class="mr16">Subtotal</strong>
                                    <span t-esc="current_subtotal"
                                          t-options="{&quot;widget&quot;: &quot;monetary&quot;, &quot;display_currency&quot;: doc.currency_id}"/>
                                </td>
                            </tr>
                        </t>
                        <t t-set="sequence" t-value="sequence+1"/>
                    </t>
                </tbody>
            </table>
        </t>
    </template>

    <template id="rsozb_5">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="doc">
                <t t-call="soluto_clients_ozelbagdan.rsozb_5_document" t-lang="doc.partner_id.lang"/>
            </t>
        </t>
    </template>

    <template id="report_saleorder_document_inherit_ozelbagdan" inherit_id="sale.report_saleorder_document">
        <xpath expr="//th[@name='th_taxes']" position="replace">
        </xpath>
        <xpath expr="//td[@name='td_taxes']" position="replace">
        </xpath>
    </template>

</odoo>